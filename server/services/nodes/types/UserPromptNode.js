"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.UserPromptNode=void 0;const BaseNode_1=require("./BaseNode");const DataTypes_1=require("../../../shared/types/DataTypes");class UserPromptNode extends BaseNode_1.BaseNode{constructor(e){super({...e,type:"userPrompt"})}defineDefaultPorts(){return{inputs:[],outputs:[{name:"prompt",type:DataTypes_1.DataType.TEXT,description:"The video concept/idea from user"},{name:"duration",type:DataTypes_1.DataType.NUMBER,description:"Target video duration in seconds"},{name:"aspectRatio",type:DataTypes_1.DataType.TEXT,description:"Video aspect ratio (9:16 or 16:9)"},{name:"style",type:DataTypes_1.DataType.TEXT,description:"Video content style (viral-explainer, storytime, educational, life-hacks, motivational, dark-truth, comedy-roast, drama-tea, finance-hustle, dating-advice)"},{name:"visualStyle",type:DataTypes_1.DataType.TEXT,description:"Visual style for images (cinematic, anime, dark-fantasy, minimalist, cyberpunk, retro, surreal, realistic)"},{name:"dimensions",type:DataTypes_1.DataType.OBJECT,description:"Video dimensions (width and height)"}]}}async execute(e,t){const{idea:a,duration:s,aspectRatio:r,style:i,visualStyle:o}=this.config.parameters||{};if(!a||"string"!==typeof a||0===a.trim().length)return{success:false,error:"Video idea/concept is required"};const n=[15,30,45];const c=Number(s)||30;if(!n.includes(c))return{success:false,error:`Duration must be one of: ${n.join(", ")} seconds`};const d=["9:16","16:9"];const u=String(r||"16:9");if(!d.includes(u))return{success:false,error:`Aspect ratio must be one of: ${d.join(", ")}`};const p=["viral-explainer","storytime","educational","life-hacks","motivational","dark-truth","comedy-roast","drama-tea","finance-hustle","dating-advice"];const l=String(i||"comedy-roast");if(!p.includes(l))return{success:false,error:`Style must be one of: ${p.join(", ")}`};const m=["cinematic","anime","dark-fantasy","minimalist","cyberpunk","retro","surreal","realistic","flat-design","silhouette","isometric","line-art","duotone","abstract-geometric","bauhaus","liminal","analog-horror","stark-horror","vaporwave","deep-fried","y2k-digital","storybook","comic-noir","puppet-theater","diorama","security-cam","night-vision","trail-cam","classified","old-newsreel","super-8","polaroid-horror","thermal"];const y=String(o||"anime");if(!m.includes(y))return{success:false,error:`Visual style must be one of: ${m.join(", ")}`};const f={"9:16":{width:1080,height:1920},"16:9":{width:1920,height:1080}}[u];this.updateProgress(100);return{success:true,data:{prompt:a.trim(),duration:c,aspectRatio:u,style:l,visualStyle:y,dimensions:f},metadata:{nodeId:this.config.id,timestamp:(new Date).toISOString()}}}validateCustom(e){return null}}exports.UserPromptNode=UserPromptNode;