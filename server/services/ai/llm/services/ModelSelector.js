"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.ModelSelector=void 0;const constants_1=require("./constants");class ModelSelector{static selectModel(t){const{task:e,prioritizeCost:s,prioritizeQuality:n,contextLength:o}=t;if("script"===e)return constants_1.OPENROUTER_MODELS.CLAUDE_SONNET_4;if("image-prompt"===e)return constants_1.OPENROUTER_MODELS.CLAUDE_SONNET_4;if(s)return this.getCheapestModel();if(n)return this.getHighestQualityModel();if(o&&o>1e5)return this.getCheapestModel();return constants_1.DEFAULT_MODEL}static getCheapestModel(){let t=constants_1.DEFAULT_MODEL;let e=1/0;for(const[s,n]of Object.entries(constants_1.MODEL_PRICING)){const o=(n.promptPerMillion+n.completionPerMillion)/2;if(o<e){e=o;t=s}}return t}static getHighestQualityModel(){return constants_1.OPENROUTER_MODELS.CLAUDE_SONNET_4}static getRecommendations(t){switch(t){case"script":return{primary:constants_1.OPENROUTER_MODELS.CLAUDE_SONNET_4,fallback:constants_1.OPENROUTER_MODELS.CLAUDE_SONNET_4,reasoning:"Claude Sonnet 4 provides superior quality for script generation"};case"image-prompt":return{primary:constants_1.OPENROUTER_MODELS.CLAUDE_SONNET_4,fallback:constants_1.OPENROUTER_MODELS.CLAUDE_SONNET_4,reasoning:"Claude Sonnet 4 excels at creative and detailed visual descriptions"};default:return{primary:constants_1.DEFAULT_MODEL,fallback:constants_1.OPENROUTER_MODELS.CLAUDE_SONNET_4,reasoning:"Using default model configuration"}}}static estimateCost(t,e,s){const n=constants_1.MODEL_PRICING[t];return e/1e6*n.promptPerMillion+s/1e6*n.completionPerMillion}}exports.ModelSelector=ModelSelector;